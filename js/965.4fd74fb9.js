"use strict";(self["webpackChunkvue_mesenger"]=self["webpackChunkvue_mesenger"]||[]).push([[965],{5965:function(r,e,s){s.r(e),s.d(e,{default:function(){return b}});s(4114);var t=s(641),a=s(3751),l=s(33);const o={class:"entry"},i=(0,t.Lk)("h1",{class:"entry-form-title"},"Регестрация",-1),n={class:"entry-form-body"},u={class:"entry-form-input"},d=(0,t.Lk)("div",{class:"entry-form-input-type"},"Имя",-1),m={class:"entry-form-input"},p=(0,t.Lk)("div",{class:"entry-form-input-type"},"Email",-1),c={key:0,class:"entry-form-input-error"},h={class:"entry-form-input"},v=(0,t.Lk)("div",{class:"entry-form-input-type"},"Пароль",-1),y={key:0,class:"entry-form-input-error"},f=(0,t.Lk)("button",{type:"submit",class:"entry-form-btn"},"Войти",-1);function k(r,e,s,k,E,w){const L=(0,t.g2)("my-input");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("form",{onSubmit:e[4]||(e[4]=(0,a.D$)(((...r)=>w.register&&w.register(...r)),["prevent"])),class:"entry-form"},[i,(0,t.Lk)("div",n,[(0,t.Lk)("div",u,[d,(0,t.bF)(L,{modelValue:E.name,"onUpdate:modelValue":e[0]||(e[0]=r=>E.name=r),placeholder:"Имя"},null,8,["modelValue"])]),(0,t.Lk)("div",m,[p,(0,t.bF)(L,{modelValue:E.email,"onUpdate:modelValue":e[1]||(e[1]=r=>E.email=r),placeholder:"Электронная почта"},null,8,["modelValue"]),null!=E.emailError&&""!=E.emailError?((0,t.uX)(),(0,t.CE)("div",c,(0,l.v_)(E.emailError),1)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",h,[v,(0,t.bF)(L,{modelValue:E.password,"onUpdate:modelValue":e[2]||(e[2]=r=>E.password=r),placeholder:"Пароль"},null,8,["modelValue"]),null!=E.passwordError&&""!=E.emailError?((0,t.uX)(),(0,t.CE)("div",y,(0,l.v_)(E.passwordError),1)):(0,t.Q3)("",!0)])]),f,(0,t.Lk)("div",{onClick:e[3]||(e[3]=e=>r.$router.push("/login")),class:"entry-form-input-link"},"Авторизация")],32)])}var E={data(){return{name:"",email:"",password:"",emailError:"",passwordError:""}},methods:{validateEmail(r){const e=/^([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)$/;return e.test(String(r).toLowerCase())},validatePassword(r){return r.length>=6},async register(){if(this.emailError=null,this.passwordError=null,!this.validateEmail(this.email))return void(this.emailError="Введите действительный адрес электронной почты.");if(!this.validatePassword(this.password))return void(this.passwordError="Пароль должен содержать не менее 6 символов.");const r={email:this.email,password:this.password,name:this.name};try{await this.$store.dispatch("register",r),this.$router.push("/")}catch(e){}}}},w=s(6262);const L=(0,w.A)(E,[["render",k]]);var b=L}}]);
//# sourceMappingURL=965.4fd74fb9.js.map