"use strict";(self["webpackChunkvue_mesenger"]=self["webpackChunkvue_mesenger"]||[]).push([[986],{2198:function(t,e,s){s.r(e),s.d(e,{default:function(){return Qs}});var i=s(6768),o=s(4232);function n(t,e,s,n,a,r){const c=(0,i.g2)("MessengerLeft"),l=(0,i.g2)("MessengerChat"),h=(0,i.g2)("Notifications");return(0,i.uX)(),(0,i.CE)("div",{class:(0,o.C4)([{"messenger-left-show":r.infoWindow,"_black-mode":r.infoSaitMode},"messenger"])},[(0,i.bF)(c),(0,i.bF)(l),t.$store.state.messeng.showNotification?((0,i.uX)(),(0,i.Wv)(h,{key:0})):(0,i.Q3)("",!0)],2)}var a=s(5130),r=s.p+"img/plus.ed3342f9.svg";const c=t=>((0,i.Qi)("data-v-9f3e6276"),t=t(),(0,i.jt)(),t),l={class:"messenger-left"},h={class:"messenger-left-settings"},d={class:"messenger-left-chats"},u={class:"messenger-left-top"},m=c((()=>(0,i.Lk)("div",{class:"messenger-left-top-title _chats-title"},"Чаты",-1))),p={class:"messenger-left-top-menu"},g=c((()=>(0,i.Lk)("img",{src:r,alt:"plus"},null,-1))),f=[g],C={class:"messenger-left-body"},k={class:"messenger-left-users"},v={class:"messenger-left-users-input"},y=c((()=>(0,i.Lk)("div",{style:{"font-size":"15px",opacity:"0.5"},class:"icon-lupa"},null,-1))),A={key:0,class:"messenger-left-users-input-items"},w={class:"messenger-left-users-block"};function S(t,e,s,n,r,c){const g=(0,i.g2)("my-dropdown"),S=(0,i.g2)("my-input"),L=(0,i.g2)("my-global-users"),b=(0,i.g2)("my-users"),M=(0,i.g2)("CreateChat"),U=(0,i.g2)("UserSetting");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",h,[(0,i.Lk)("div",{onClick:e[0]||(e[0]=(...t)=>c.myAlert&&c.myAlert(...t)),class:"messenger-left-settings-item icon-bookmark"}),(0,i.Lk)("div",{onClick:e[1]||(e[1]=(...t)=>c.myAlert&&c.myAlert(...t)),class:"messenger-left-settings-item icon-group-icon"}),(0,i.Lk)("div",{onClick:e[2]||(e[2]=e=>t.$store.commit("SetSaitMode",!1===c.infoSaitMode)),class:"messenger-left-settings-item icon-night-mode"}),(0,i.Lk)("div",{onClick:e[3]||(e[3]=e=>t.$store.commit("SetShowUserSetting",!0)),class:"messenger-left-settings-item icon-setting"})]),(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[m,(0,i.Lk)("div",p,[(0,i.Lk)("div",{onClick:e[4]||(e[4]=(0,a.D$)((t=>r.showChatMenu=!0),["stop"])),class:(0,o.C4)(["messenger-left-top-menu-btn",{"messenger-left-top-menu-btn-active":r.showChatMenu}])},f,2),(0,i.bF)(g,{show:r.showChatMenu,"onUpdate:show":e[5]||(e[5]=t=>r.showChatMenu=t),chatDropDownItems:r.chatDropDownItems,onMyaction:c.openCreateChat},null,8,["show","chatDropDownItems","onMyaction"])])]),(0,i.Lk)("div",C,[(0,i.Q3)("",!0),(0,i.Lk)("div",k,[(0,i.Lk)("div",v,[y,(0,i.bF)(S,{class:(0,o.C4)([{"input-not-empty":""!=c.infoSearchQuery},"inputshow"]),"model-value":c.infoSearchQuery,"onUpdate:modelValue":t.SetSearchQuery,style:{"padding-left":"35px"},placeholder:"Поиск...",onFocus:e[6]||(e[6]=t=>r.showSearchBlock=!0)},null,8,["class","model-value","onUpdate:modelValue"]),c.infoSearchQuery||r.showSearchBlock?((0,i.uX)(),(0,i.CE)("div",A,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.sortedAndSearchedPosts,(t=>((0,i.uX)(),(0,i.Wv)(L,{user:t,key:t.id,onClick:e[7]||(e[7]=t=>r.showSearchBlock=!1)},null,8,["user"])))),128))])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",w,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)([...c.infoMyChats,...c.infoGroups,...c.infoCanals],(t=>((0,i.uX)(),(0,i.Wv)(b,{user:t,key:t.id},null,8,["user"])))),128))])])]),(0,i.bF)(M,{status:r.createChatStatus,"onUpdate:status":e[8]||(e[8]=t=>r.createChatStatus=t),show:r.showCreateChat,"onUpdate:show":e[9]||(e[9]=t=>r.showCreateChat=t),onCreate:c.createGroup},null,8,["status","show","onCreate"]),c.infoShowUserSetting?((0,i.uX)(),(0,i.Wv)(U,{key:0})):(0,i.Q3)("",!0)])])}var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABHNCSVQICAgIfAhkiAAAAiNJREFUSIm9lj9rFFEUxc99OxsF0ayiaSwiEhVNI9j5AUSC0cbCwj/xMwj2YiniFwgEhEQlYGGjICnsgyASVPyDkiKNGgVDRjPv/iz2bljESLI7eGBgmOHd8865c88b6T/AtroAGKyqarQoir2SXkn6KKkyM2rbFXDK3eeAN8AkcAQYALa84Q2Rc77m7t+AVWAZeAAcAJq1kQBn3f2lu5fAGrACTAGjQBNIdZDsBiaARSADHqruAYdqUQQUQXQh+pKBCvgaRMdCUX89AhIwGIreA2UQreacp6JHA31bB1gougp86LJuBbgPHO5YVwRbklT0wFVJeuLu28zsuqRhMxuQdDre3QYWDBiSdDDnPNRoNCSpM1Sb9dQk7XT3EymlCUmDUaN094cppRuWc76bUhqTtD0WdJNs9j6p7UrTbH1vLumHpMfm7ktm1gqSulFK+l4AT81sTFLuV0lcHSku6Ze7z3V6MiJp3x8FuvGv51K7J8dTSlck7QmCn+4+m1K6WUj6LGlZUmPzLqyjKWmHpHEzOyeppbYjK5IepZTuSFrsoW4bMSct4DLwrntOcs4zwMj8/HzvERMTv6uqqkvA25j4tZj4SWC4r/iP7GoB5939dShYA74A08DRvrMrCC4CnyKvOik8XZblSF0pfMbdX0ThznkyWVv6Sn89GWeiBxsq2HIoppQWJD0H9pvZM0m3JC2pHYj1IM6Rk8B45zOt9SeiV/wGOQIi0SGuBx0AAAAASUVORK5CYII=";const b=t=>((0,i.Qi)("data-v-826fea2e"),t=t(),(0,i.jt)(),t),M={key:0,class:"create-chat _pop-up-white"},U={class:"create-chat-form-content"},F={class:"create-chat-title _titles"},I={class:"create-chat-avatar"},R=["src"],N={class:"create-chat-inputs"},D=b((()=>(0,i.Lk)("button",{type:"submit",class:"create-chat-btn _violet-button"},[(0,i.Lk)("img",{src:L,alt:"#"})],-1)));function Q(t,e,s,n,r,c){const l=(0,i.g2)("my-input");return s.show?((0,i.uX)(),(0,i.CE)("div",M,[(0,i.Lk)("form",{onSubmit:e[3]||(e[3]=(0,a.D$)((t=>c.createGroup(s.status.action)),["prevent"])),class:"create-chat-form"},[(0,i.Lk)("div",U,[(0,i.Lk)("div",F,(0,o.v_)(s.status.title),1),(0,i.Lk)("div",I,[(0,i.Lk)("img",{src:r.imageSrc,alt:"Avatar"},null,8,R),(0,i.Lk)("input",{onChange:e[0]||(e[0]=(...t)=>c.onFileChange&&c.onFileChange(...t)),type:"file",accept:"image/*"},null,32)]),(0,i.Lk)("div",N,[(0,i.bF)(l,{placeholder:"Название",modelValue:r.chatName,"onUpdate:modelValue":e[1]||(e[1]=t=>r.chatName=t)},null,8,["modelValue"]),(0,i.bF)(l,{placeholder:"Описание (необязательно)",modelValue:r.chatDescription,"onUpdate:modelValue":e[2]||(e[2]=t=>r.chatDescription=t)},null,8,["modelValue"])])]),D],32),(0,i.Lk)("div",{onClick:e[4]||(e[4]=(...t)=>c.closeForm&&c.closeForm(...t)),class:"create-chat-close icon-arrow"})])):(0,i.Q3)("",!0)}var E=s(1394),K=s(7844),X={data(){return{imageSrc:s(4810)}},methods:{async uploadImage(t){try{const e=(0,K.KR)(E.I,`images/${t.name}`),s={cacheControl:"public, max-age=900",contentType:t.type};await(0,K.D)(e,t,s);const i=await(0,K.qk)(e);this.imageSrc=i}catch(e){console.log(e)}}}},x={data(){return{chatName:"",chatDescription:"",imageSrc:s(4810)}},mixins:[X],methods:{async onFileChange(t){const e=t.target.files[0];e&&(await this.uploadImage(e),t.target.value="")},cleaning(){this.chatName="",this.chatDescription="",this.imageSrc=s(4810)},createGroup(t){const e={name:this.chatName,imgSrc:this.imageSrc,description:this.chatDescription,type:t};this.$store.dispatch("createChat",e),this.$emit("update:show",!1),this.cleaning()},closeForm(){this.$emit("update:show",!1),this.cleaning()}},props:{show:{type:Boolean,default:!1},status:{type:Object,required:!0}}},W=s(1241);const T=(0,W.A)(x,[["render",Q],["__scopeId","data-v-826fea2e"]]);var j=T;const V=t=>((0,i.Qi)("data-v-e7715cfa"),t=t(),(0,i.jt)(),t),H={class:"_pop-up-white user-setting"},q={class:"user-setting-content"},J=V((()=>(0,i.Lk)("div",{style:{"font-size":"16px"},class:"user-setting-close icon-arrows"},null,-1))),O=V((()=>(0,i.Lk)("div",{class:"user-setting-title _titles"}," Настройки акаунта",-1))),B=[J,O],G={class:"user-setting-body"},P={class:"user-setting-body-content"},z={class:"user-setting-avatar"},Z={alt:"Avatar"},Y={class:"user-setting-info"},_=V((()=>(0,i.Lk)("div",{class:"user-setting-info-type _btns-tabs-names_in_msgs"},"Имя",-1))),$={class:"user-setting-info-title _btns-tabs-names_in_msgs"},tt={class:"user-setting-info"},et=V((()=>(0,i.Lk)("div",{class:"user-setting-info-type _btns-tabs-names_in_msgs"},"Email",-1))),st={class:"user-setting-info-title _btns-tabs-names_in_msgs"},it=V((()=>(0,i.Lk)("img",{src:L,alt:"#"},null,-1))),ot=[it];function nt(t,e,n,a,r,c){const l=(0,i.gN)("lazy");return(0,i.uX)(),(0,i.CE)("div",H,[(0,i.Lk)("div",q,[(0,i.Lk)("div",{onClick:e[0]||(e[0]=e=>t.$store.commit("SetShowUserSetting",!1)),class:"user-setting-top"},B),(0,i.Lk)("div",G,[(0,i.Lk)("div",P,[(0,i.Lk)("div",z,[(0,i.bo)((0,i.Lk)("img",Z,null,512),[[l,c.myInfo.imgSrc?c.myInfo.imgSrc:s(4810)]]),(0,i.Lk)("input",{onChange:e[1]||(e[1]=(...t)=>c.onFileChange&&c.onFileChange(...t)),type:"file",accept:"image/*"},null,32)]),(0,i.Lk)("div",Y,[_,(0,i.Lk)("div",$,(0,o.v_)(c.myInfo.name),1)]),(0,i.Lk)("div",tt,[et,(0,i.Lk)("div",st,(0,o.v_)(c.myInfo.email),1)])]),(0,i.Lk)("button",{onClick:e[2]||(e[2]=e=>t.$store.dispatch("logout")),style:{"background-color":"red"},type:"submit",class:"_violet-button"},ot)])])])}var at={data(){return{imageSrc:s(4810)}},computed:{myInfo(){return this.$store.getters.myInfo}},mixins:[X],methods:{async onFileChange(t){const e=t.target.files[0];e&&(await this.uploadImage(e),this.$store.dispatch("changeMyInfoImgSrc",this.imageSrc),t.target.value="")}}};const rt=(0,W.A)(at,[["render",nt],["__scopeId","data-v-e7715cfa"]]);var ct=rt,lt=s(782),ht={data(){return{showChatMenu:!1,showCreateChat:!1,showSearchBlock:!1,createChatStatus:{},chatDropDownItems:[{imgSrc:"icon-user",title:"Создать личный чат",action:"chat"},{imgSrc:"icon-group",title:"Создать группу",action:"groups"},{imgSrc:"icon-megaphone",title:"Создать канал",action:"canals"}]}},computed:{infoSaitMode(){return this.$store.getters.infoSaitMode},infoShowUserSetting(){return this.$store.getters.infoShowUserSetting},infoWindow(){return this.$store.getters.infoWindow},infoUsers(){return this.$store.getters.infoUsers},infoMyChats(){return this.$store.getters.infoMyChats},infoSearchQuery(){return this.$store.getters.infoSearchQuery},infoGroups(){return this.$store.getters.infoGroups},infoCanals(){return this.$store.getters.infoCanals},...(0,lt.L8)({sortedAndSearchedPosts:"sortedAndSearchedPosts"})},mounted(){document.addEventListener("click",(t=>{t.target.closest(".messenger-left-users-input-items")||!0!==this.showSearchBlock||t.target.closest(".inputshow")||(this.showSearchBlock=!1,this.$store.commit("SetSearchQuery",""))}))},methods:{myAlert(){alert("Данный функцианал еще в разработке и работает на данный момент только настройки и темный режим")},...(0,lt.PY)({SetSearchQuery:"SetSearchQuery"}),openCreateChat(t){this.showCreateChat=!0,this.createChatStatus=t},createGroup(t){this.$store.dispatch("createChat",t)}},components:{CreateChat:j,UserSetting:ct}};const dt=(0,W.A)(ht,[["render",S],["__scopeId","data-v-9f3e6276"]]);var ut=dt;const mt={key:0,class:"messenger-chat"},pt={ref:"messagesContainer",class:"main-chat-body"},gt={key:1,class:"enter-in-chat _pop-up"};function ft(t,e,s,n,r,c){const l=(0,i.g2)("ChatSing"),h=(0,i.g2)("my-chat-report"),d=(0,i.g2)("my-dropdown"),u=(0,i.g2)("CreateChatReport"),m=(0,i.g2)("CreateFileMessage"),p=(0,i.g2)("AddUserInChat");return c.infoFullActiveChat?((0,i.uX)(),(0,i.CE)("div",mt,[(0,i.bF)(l),(0,i.Lk)("div",{class:"main-chat",style:(0,o.Tr)({position:c.myInfo.uid!=c.fetchMeInChat&&"canals"==c.infoFullActiveChat.type?"relative":"initial"})},[(0,i.Lk)("div",pt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(c.infoActiveChat,(t=>((0,i.uX)(),(0,i.Wv)(h,{onContextmenu:(0,a.D$)((e=>c.openContextMenu(e,t)),["prevent"]),onDblclick:e=>c.openContextMenu(e,t),chatReport:t,key:t.id,id:t.id,class:(0,o.C4)({highlight:r.highlight===t.id}),onGoMessage:c.goToMessage},null,8,["onContextmenu","onDblclick","chatReport","id","class","onGoMessage"])))),128)),(0,i.bF)(d,{show:r.showMenu,"onUpdate:show":e[0]||(e[0]=t=>r.showMenu=t),chatDropDownItems:r.chatDropDownItems,onMyaction:c.messageMethods,style:(0,o.Tr)({top:`${r.y}px`,left:`${r.x}px`,right:"auto"})},null,8,["show","chatDropDownItems","onMyaction","style"])],512),(0,i.bF)(u,{infoWindow:c.infoFullActiveChat},null,8,["infoWindow"]),"file"==c.infoShowPopUp||"photo"==c.infoShowPopUp?((0,i.uX)(),(0,i.Wv)(m,{key:0})):(0,i.Q3)("",!0),(0,i.bF)(p),"canals"==c.infoFullActiveChat.type&&c.myInfo.uid!=c.fetchMeInChat?((0,i.uX)(),(0,i.CE)("div",gt,[(0,i.Lk)("button",{onClick:e[1]||(e[1]=e=>t.$store.dispatch("addNewUserInChat",c.myInfo)),type:"button",class:"_blue-button enter-in-chat"},"Присоедениться к группе")])):(0,i.Q3)("",!0)],4)])):(0,i.Q3)("",!0)}const Ct=t=>((0,i.Qi)("data-v-3c5a5239"),t=t(),(0,i.jt)(),t),kt={class:"chat-sing-wrapper"},vt={class:"chat-sign"},yt={class:"chat-sign-info"},At={alt:"#"},wt={class:"chat-sign-info-block"},St={style:{color:"black"},class:"chat-sign-info-name _btns-tabs-names_in_msgs"},Lt={key:0,class:"chat-sign-info-status _main"},bt={class:"chat-sign-control"},Mt={class:"chat-sign-control-block"},Ut={class:"chat-sign-control-block"},Ft={class:"notice-btn-icon-img chat-sign-control-block-item"},It=Ct((()=>(0,i.Lk)("span",{style:{"font-size":"30px"},class:"icon-notification"},null,-1))),Rt={key:0,class:"_my-status notice-btn-icon-img-status"},Nt=Ct((()=>(0,i.Lk)("img",{src:L,alt:"#"},null,-1))),Dt=[Nt];function Qt(t,e,n,a,r,c){const l=(0,i.g2)("ChatSetting"),h=((0,i.g2)("CallComponent"),(0,i.gN)("lazy"));return(0,i.uX)(),(0,i.CE)("div",kt,[(0,i.Lk)("div",vt,[(0,i.Lk)("div",yt,[(0,i.Lk)("div",{onDblclick:e[0]||(e[0]=(...e)=>t.click&&t.click(...e)),class:"chat-sign-info-img"},[(0,i.bo)((0,i.Lk)("img",At,null,512),[[h,c.infoFullActiveChat.imgSrc?c.infoFullActiveChat.imgSrc:s(9096)]])],32),(0,i.Lk)("div",wt,[(0,i.Lk)("div",St,(0,o.v_)(c.infoFullActiveChat.name),1),"chatUsers"==c.infoFullActiveChat.type?((0,i.uX)(),(0,i.CE)("div",Lt,(0,o.v_)(c.getMinutesSinceLastSeen),1)):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",bt,[(0,i.Lk)("div",Mt,[(0,i.Lk)("div",{onClick:e[1]||(e[1]=(...t)=>c.myAlert&&c.myAlert(...t)),class:"chat-sign-control-block-item icon-phone"}),(0,i.Lk)("div",{onClick:e[2]||(e[2]=(...t)=>c.myAlert&&c.myAlert(...t)),class:"chat-sign-control-block-item icon-video"})]),(0,i.Lk)("div",Ut,[(0,i.Lk)("div",{style:{opacity:"0.5","font-size":"28px"},onClick:e[3]||(e[3]=(...t)=>c.myAlert&&c.myAlert(...t)),class:"chat-sign-control-block-item icon-lupa"}),(0,i.Lk)("div",{style:{opacity:"0.5","font-size":"28px"},onClick:e[4]||(e[4]=e=>t.$store.commit("SetShowChatSetting",!0)),class:"chat-sign-control-block-item icon-dots"})])])]),t.$store.state.messeng.showNotification?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,onClick:e[5]||(e[5]=e=>t.$store.commit("showNotification",!0)),class:"notice-btn-icon"},[(0,i.Lk)("div",Ft,[It,c.infoNotice.length>0?((0,i.uX)(),(0,i.CE)("div",Rt)):(0,i.Q3)("",!0)])])),c.infoShowChatSetting?((0,i.uX)(),(0,i.Wv)(l,{key:1})):(0,i.Q3)("",!0),(0,i.Lk)("div",{onClick:e[6]||(e[6]=(...t)=>c.clearChat&&c.clearChat(...t)),class:"leave-in-chat _violet-button"},Dt),(0,i.Q3)("",!0)])}const Et=t=>((0,i.Qi)("data-v-0b27e5f6"),t=t(),(0,i.jt)(),t),Kt={class:"chat-setting"},Xt={class:"chat-setting-content"},xt=Et((()=>(0,i.Lk)("div",{class:"chat-setting-top-title _titles"},"Настройки чата",-1))),Wt={class:"chat-setting-info"},Tt={alt:"Avatar Img",class:"chat-setting-info-img"},jt={class:"chat-setting-info-name _chats-title"},Vt={class:"chat-setting-info-type _btns-tabs-names_in_msgs"},Ht={key:0,class:"chat-setting-body"},qt=Et((()=>(0,i.Lk)("div",{class:"chat-setting-title _titles"},"Участники",-1))),Jt={class:"chat-setting-items"},Ot={class:"chat-setting-item-block"},Bt={alt:"Avatar Img",class:"chat-setting-item-img"},Gt={class:"chat-setting-item-name _btns-tabs-names_in_msgs"},Pt={key:0,class:"_btns-tabs-names_in_msgs"};function zt(t,e,n,a,r,c){const l=(0,i.g2)("my-button"),h=(0,i.gN)("lazy");return(0,i.uX)(),(0,i.CE)("div",Kt,[(0,i.Lk)("div",Xt,[xt,(0,i.Lk)("div",Wt,[(0,i.bo)((0,i.Lk)("img",Tt,null,512),[[h,c.infoFullActiveChat.imgSrc?c.infoFullActiveChat.imgSrc:s(9096)]]),(0,i.Lk)("div",jt,(0,o.v_)(c.infoFullActiveChat.name),1),(0,i.Lk)("div",Vt,(0,o.v_)("groups"==c.infoFullActiveChat.type?"Группа":"canals"==c.infoFullActiveChat.type?"Канал":"chatUsers"==c.infoFullActiveChat.type?"Пользователь":"Личный чат"),1)]),"groups"==c.infoFullActiveChat.type||"canals"==c.infoFullActiveChat.type?((0,i.uX)(),(0,i.CE)("div",Ht,[qt,(0,i.Lk)("div",Jt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(c.fetchChatsParticipants,(t=>((0,i.uX)(),(0,i.CE)("div",{class:"chat-setting-item",key:t.id},[(0,i.Lk)("div",Ot,[(0,i.bo)((0,i.Lk)("img",Bt,null,512),[[h,t.imgSrc?t.imgSrc:s(9096)]]),(0,i.Lk)("div",Gt,(0,o.v_)(t.name),1)]),!0===this.fetchMeAcaunt[0].admin?((0,i.uX)(),(0,i.Wv)(l,{key:0,onClick:e=>c.deleteParticipants(t)},{default:(0,i.k6)((()=>[(0,i.eW)("Удалить")])),_:2},1032,["onClick"])):(0,i.Q3)("",!0)])))),128)),c.fetchChatsParticipants.length<=0?((0,i.uX)(),(0,i.CE)("div",Pt,"Вы единственный пользователь")):(0,i.Q3)("",!0)]),!0===this.fetchMeAcaunt[0].admin?((0,i.uX)(),(0,i.Wv)(l,{key:0,onClick:e[0]||(e[0]=e=>t.$store.commit("setShowAddUserInChat",!0))},{default:(0,i.k6)((()=>[(0,i.eW)("Добавить пользователя")])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(l,{onClick:e[1]||(e[1]=e=>t.$store.dispatch("deleteChatParticipants",c.fetchMeAcaunt[0])),style:{"background-color":"red","margin-top":"10px"}},{default:(0,i.k6)((()=>[(0,i.eW)("Выйти из чата")])),_:1})])):(0,i.Q3)("",!0),(0,i.Lk)("div",{onClick:e[2]||(e[2]=(...t)=>c.closeChatSetting&&c.closeChatSetting(...t)),class:"create-chat-close icon-arrow"})])])}var Zt={computed:{infoShowChatSetting(){return this.$store.getters.infoShowChatSetting},infoFullActiveChat(){return this.$store.getters.infoFullActiveChat},infoUsers(){return this.$store.getters.infoUsers},fetchChatsParticipants(){if("groups"==this.infoFullActiveChat.type||"canals"==this.infoFullActiveChat.type)return this.infoUsers.filter((t=>this.infoFullActiveChat.usersChat.some((e=>t.id===e.uid))))},fetchMeAcaunt(){return this.infoFullActiveChat.usersChat.filter((t=>t.uid===E.j.lastNotifiedUid))}},methods:{closeChatSetting(){this.$store.commit("SetShowChatSetting",!1)},deleteParticipants(t){this.$store.dispatch("deleteChatParticipants",t)}}};const Yt=(0,W.A)(Zt,[["render",zt],["__scopeId","data-v-0b27e5f6"]]);var _t=Yt;const $t=(0,i.Lk)("audio",{id:"remoteAudio",autoplay:""},null,-1);function te(t,e,s,o,n,a){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>a.startCall&&a.startCall(...t))},"Позвонить"),(0,i.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>a.acceptCall&&a.acceptCall(...t))},"Принять звонок"),$t])}var ee=s(7617),se={data(){return{localStream:null,remoteStream:null,peerConnection:null,callId:"uniqueCallId"}},methods:{async startCall(){this.peerConnection=new RTCPeerConnection,this.peerConnection.onicecandidate=this.handleIceCandidate,this.localStream=await navigator.mediaDevices.getUserMedia({audio:!0}),this.localStream.getTracks().forEach((t=>{this.peerConnection.addTrack(t,this.localStream)}));const t=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(t),await(0,ee.BN)((0,ee.H9)(E.db,"calls",this.callId),{offer:t})},async acceptCall(){const t=(0,ee.H9)(E.db,"calls",this.callId);(0,ee.aQ)(t,(async e=>{const s=e.data();if(s?.offer&&"stable"===this.peerConnection.signalingState){await this.peerConnection.setRemoteDescription(new RTCSessionDescription(s.offer));const e=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(e),await(0,ee.BN)(t,{answer:e})}if(s?.answer&&"closed"!==this.peerConnection.signalingState&&await this.peerConnection.setRemoteDescription(new RTCSessionDescription(s.answer)),s?.iceCandidate){const t=new RTCIceCandidate({candidate:s.iceCandidate.candidate,sdpMid:s.iceCandidate.sdpMid,sdpMLineIndex:s.iceCandidate.sdpMLineIndex});await this.peerConnection.addIceCandidate(t)}})),this.peerConnection.ontrack=t=>{const e=document.getElementById("remoteAudio");e.srcObject=t.streams[0]}}}};const ie=(0,W.A)(se,[["render",te]]);var oe=ie,ne={computed:{infoShowChatSetting(){return this.$store.getters.infoShowChatSetting},infoNotice(){return this.$store.getters.infoNotice},infoUsers(){return this.$store.getters.infoUsers},infoFullActiveChat(){return this.$store.getters.infoFullActiveChat},getMinutesSinceLastSeen(){const t=this.infoUsers.find((t=>t.id==this.infoFullActiveChat.id));if(null==t.lastSeen)return"Пользователь в сети";const e=new Date(t.lastSeen),s=new Date,i=s-e,o=Math.floor(i/1e3),n=Math.floor(o/60),a=Math.floor(n/60),r=Math.floor(a/24);return r>0?`Пользователь был в сети ${r} ${1===r?"день":"дня"} назад.`:a>0?`Пользователь был в сети ${a} ${1===a?"час":"часа"} назад.`:`Пользователь был в сети ${n} ${1===n?"минуту":"минуты"} назад.`}},methods:{myAlert(){alert("Данная функцианал еще в разработке и работает на данный момент только три точки")},clearChat(){this.$store.commit("SetInfoWindow",""),this.$store.commit("SetFullActiveChat","")}},components:{ChatSetting:_t,CallComponent:oe}};const ae=(0,W.A)(ne,[["render",Qt],["__scopeId","data-v-3c5a5239"]]);var re=ae;const ce=t=>((0,i.Qi)("data-v-2ff20c35"),t=t(),(0,i.jt)(),t),le={class:"main-chat-form"},he={class:"main-chat-form-file"},de={class:"main-chat-form--input"},ue=ce((()=>(0,i.Lk)("svg",{width:"24.004883",height:"24.000000",viewBox:"0 0 24.0049 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,i.Lk)("desc",null," Created with Pixso. "),(0,i.Lk)("defs"),(0,i.Lk)("path",{id:"send",d:"M7.16 4.81L21.16 0.28C22.66 -0.22 24.85 -0.42 23.66 2.8C22.46 6.02 19.16 16.55 17.66 21.42C17.11 23.18 15.66 25.94 14.16 21.92L11.66 14.87L17.16 6.82L9.16 12.36L2.16 9.84C0.66 9.34 -1.84 7.83 2.16 6.32L7.16 4.81Z",fill:"#8D46F6","fill-opacity":"1.000000","fill-rule":"evenodd"})],-1))),me=[ue];function pe(t,e,s,o,n,r){const c=(0,i.g2)("my-dropdown"),l=(0,i.g2)("my-input"),h=(0,i.g2)("VoiceRecorder"),d=(0,i.g2)("ReplyToMessage");return(0,i.uX)(),(0,i.CE)("div",le,[(0,i.Lk)("div",he,[(0,i.Lk)("div",{class:"icon-paper-clip",onClick:e[0]||(e[0]=(0,a.D$)((t=>n.showChatMenu=!0),["stop"])),style:{cursor:"pointer",opacity:"0.2"}}),(0,i.bF)(c,{class:"main-chat-form-dropdown",show:n.showChatMenu,"onUpdate:show":e[1]||(e[1]=t=>n.showChatMenu=t),chatDropDownItems:n.chatDropDownItems,onMyaction:r.openFileAndImgSubmit},null,8,["show","chatDropDownItems","onMyaction"])]),(0,i.Lk)("div",de,[(0,i.bF)(l,{modelValue:n.sendText,"onUpdate:modelValue":e[2]||(e[2]=t=>n.sendText=t),placeholder:"Ведите сообщение...",onKeyup:e[3]||(e[3]=(0,a.jR)((t=>r.createReport(s.infoWindow)),["enter"]))},null,8,["modelValue"])]),(0,i.bF)(h),(0,i.Lk)("button",{onClick:e[4]||(e[4]=t=>r.createReport(s.infoWindow)),type:"submit",class:"main-chat-form-submit"},me),r.infoReplyMessage?((0,i.uX)(),(0,i.Wv)(d,{key:0})):(0,i.Q3)("",!0)])}var ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAa1JREFUOI3F1L9uE0EQx/HPXowDIuFPBAQhJKCggpKHSISoQEI00CBRgXgAHoKel+AZ6EDp6AhS0iA5DWlQMMbxUOyAnYvtuGOlk+52Zr/329/uTDFlBAUruIXraDL0C9voFfrT1namTaLQPCFeYJUY5PRZfCHeBFuFmApMRedwKudWiOfEJ7zH79R+mfIUj/EtGKrPoPADOlG3s45nuIIlXMQ1fMd9HKaAVWKN8oA4g0ECvwbvCqNO+tOhWWO0nt9BfEjIpdaudojd/GlJYG+qcUGJ8QGcOIIm7fo3mongEjZoXi4KpHmFjVx7FFiZ7hCP2n+doa4QD3HXxGm3gY3qzfI8aMaWjX08Dsw71VdPdNV8L5vMOUS/zFAogUO1SuZt+28lDbUqpg38mUmLKhzmmpnASYUnAf+PwoNMOr8A8ELmHswD7hN93DS7E8nYjczdbwcmRw+fKZvETrBrfJWoFXG6wsom8VGrjo9cjajJtylviRElu0mMMj0bSXTre7zG9mSzPXbXoqpexz1cRdfYmpHasnrYwl6pPk5XmMCSgG5usZ0TacEAo3bX/gOEOIbk9ojvlwAAAABJRU5ErkJggg==";const fe=t=>((0,i.Qi)("data-v-4956e314"),t=t(),(0,i.jt)(),t),Ce={class:"main-chat-form-voice"},ke=["disabled"],ve={key:0,class:"main-chat-form-voice-block"},ye=["disabled"],Ae={class:"main-chat-form-voice-time"},we=fe((()=>(0,i.Lk)("svg",{width:"22.055176",height:"22.944763",viewBox:"0 0 22.0552 22.9448",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[(0,i.Lk)("desc",null," Created with Pixso. "),(0,i.Lk)("defs"),(0,i.Lk)("path",{id:"send",d:"M7.43 2.79L20.3 9.03C21.69 9.68 23.37 11.04 20.41 12.57C17.44 14.11 8.18 19.56 3.92 22.1C2.37 23.02 -0.48 24.04 1.11 20.08L3.99 13.22L13.17 11.08L3.88 9.68L0.59 3.06C-0.13 1.67 -0.91 -1.14 2.91 0.49L7.43 2.79Z",fill:"#8D46F6","fill-opacity":"1.000000","fill-rule":"evenodd"})],-1))),Se=[we],Le=fe((()=>(0,i.Lk)("div",null,null,-1)));function be(t,e,s,n,a,r){return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",Ce,[(0,i.Lk)("span",{class:"icon-mic",style:{cursor:"pointer",opacity:"0.2"},onClick:e[0]||(e[0]=(...t)=>r.startRecording&&r.startRecording(...t)),disabled:a.isRecording},null,8,ke),a.isRecording?((0,i.uX)(),(0,i.CE)("div",ve,[(0,i.Lk)("img",{onClick:e[1]||(e[1]=(...t)=>r.stopRecording&&r.stopRecording(...t)),disabled:!a.isRecording,src:ge,alt:"delete"},null,8,ye),(0,i.Lk)("div",Ae,(0,o.v_)(r.formattedTimer),1),(0,i.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>r.submitUploadAudio&&r.submitUploadAudio(...t))},Se)])):(0,i.Q3)("",!0)]),Le],64)}s(4114);var Me={data(){return{isRecording:!1,mediaRecorder:null,audioChunks:[],audioUrl:null,timer:0,timerInterval:null}},computed:{formattedTimer(){const t=String(Math.floor(this.timer/60)).padStart(2,"0"),e=String(this.timer%60).padStart(2,"0");return`${t}:${e}`},infoFullActiveChat(){return this.$store.getters.infoFullActiveChat}},methods:{async startRecording(){const t=await navigator.mediaDevices.enumerateDevices(),e=t.filter((t=>"audioinput"===t.kind));if(!e.length>0)return void alert("Микрофон неподключен!");const s=await navigator.mediaDevices.getUserMedia({audio:!0});this.mediaRecorder=new MediaRecorder(s),this.mediaRecorder.start(),this.mediaRecorder.ondataavailable=t=>{this.audioChunks.push(t.data)},this.isRecording=!0,this.timer=0,this.startTimer()},submitUploadAudio(){this.stopRecording(),this.mediaRecorder.onstop=async()=>{await this.uploadAudio(this.infoFullActiveChat)}},stopRecording(){this.timer=0,this.mediaRecorder.stop(),this.isRecording=!1,clearInterval(this.timerInterval),this.audioChunks=[]},async uploadAudio(t){const e=new Blob(this.audioChunks,{type:"audio/wav"}),s=(0,K.KR)(E.I,`voiceMessages/${Date.now()}.wav`);await(0,K.D)(s,e);const i=await(0,K.qk)(s),o={date:(new Date).toTimeString().slice(0,5),audioUrl:i,type:"audio",user:t};await this.$store.dispatch("addNewReport",o)},startTimer(){this.timerInterval=setInterval((()=>{this.timer+=1}),1e3)}}};const Ue=(0,W.A)(Me,[["render",be],["__scopeId","data-v-4956e314"]]);var Fe=Ue;const Ie={class:"reply-message"},Re={class:"reply-message-report"},Ne={class:"reply-message-name"},De={class:"reply-message-type"};function Qe(t,e,s,n,a,r){return(0,i.uX)(),(0,i.CE)("div",Ie,[(0,i.Lk)("div",Re,[(0,i.Lk)("div",Ne,(0,o.v_)(r.infoReplyMessageUser.name),1),(0,i.Lk)("div",De,(0,o.v_)(r.infoReplyMessage.title),1)]),(0,i.Lk)("div",{style:{color:"#99C0F0","font-size":"20px"},onClick:e[0]||(e[0]=(...t)=>r.clearInfo&&r.clearInfo(...t)),class:"reply-message-delete icon-close"})])}var Ee={computed:{infoReplyMessage(){return this.$store.getters.infoReplyMessage},infoReplyMessageUser(){return this.$store.getters.infoReplyMessageUser}},methods:{clearInfo(){this.$store.commit("SetreplyMessage",""),this.$store.commit("SetReplyMessageUser","")}}};const Ke=(0,W.A)(Ee,[["render",Qe],["__scopeId","data-v-d918d01c"]]);var Xe=Ke,xe={data(){return{sendText:"",showChatMenu:!1,chatDropDownItems:[{imgSrc:"icon-multimedia-file",title:"Фото или видео",action:"photo"},{imgSrc:"icon-file",title:"Файл",action:"file"}]}},props:{infoWindow:{type:Object}},components:{VoiceRecorder:Fe,ReplyToMessage:Xe},methods:{async createReport(t){const e={title:this.sendText,date:(new Date).toTimeString().slice(0,5),user:t};this.infoReplyMessage&&(e.replyMessage={name:this.infoReplyMessageUser.name,text:this.infoReplyMessage.title,id:this.infoReplyMessage.id}),0!=this.sendText.length?(await this.$store.dispatch("addNewReport",e),this.sendText="",this.$store.commit("SetreplyMessage",""),this.$store.commit("SetReplyMessageUser","")):alert("Ведите сообщение...")},openFileAndImgSubmit(t){this.$store.commit("showPopUp",t.action)}},computed:{infoReplyMessage(){return this.$store.getters.infoReplyMessage},infoReplyMessageUser(){return this.$store.getters.infoReplyMessageUser}}};const We=(0,W.A)(xe,[["render",pe],["__scopeId","data-v-2ff20c35"]]);var Te=We,je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAMBJREFUOI2l1L0KwkAMwPE/jgVnwVnwAa7Prw/Q4lYoVBA6OfgO59ArjfTaS2Lglvv4DUkuABVwB674IwAtcAK4ATEtDxrE+5aERHyoxCJwng8kOijRTUyiTyUagHe6+8hhFrTWYhrUjO2hbkyiQwJG4PMPJtGRpZJdCTsUwCPTT5qjSnuukDnrgBe2Pt3E5pzJnJrQvWqaUU1rqNGapZql1iiiFiyH/kwpiWWnRgFdjb7GieXQHqax3TgxifbA5Qt2xWm5+b9UdQAAAABJRU5ErkJggg==";const Ve=t=>((0,i.Qi)("data-v-2779af9d"),t=t(),(0,i.jt)(),t),He={class:"_pop-up-top"},qe=Ve((()=>(0,i.Lk)("img",null,null,-1))),Je=Ve((()=>(0,i.Lk)("div",{class:"chat-files-form-top-title _titles"},"Отправить файл",-1))),Oe={class:"chat-files-form-body"},Be={class:"chat-files-form-file-block"},Ge=["src","alt"],Pe={class:"chat-files-form-texts"},ze={class:"chat-files-form-name"},Ze={class:"chat-files-form-weight"},Ye=["onClick"],_e={class:"chat-files-form-addfile"},$e={class:"chat-files-form-end"};function ts(t,e,s,n,r,c){const l=(0,i.g2)("my-input"),h=(0,i.g2)("my-button");return(0,i.uX)(),(0,i.CE)("div",{class:"main-chat-popup _pop-up",onClick:e[6]||(e[6]=(...t)=>c.closePopUp&&c.closePopUp(...t))},[(0,i.Lk)("form",{onSubmit:e[4]||(e[4]=(0,a.D$)((t=>c.createFileMessage(c.infoFullActiveChat)),["prevent"])),onClick:e[5]||(e[5]=(0,a.D$)((()=>{}),["stop"])),class:"chat-files-form _pop-up-body"},[(0,i.Lk)("div",He,[(0,i.Lk)("span",{onClick:e[0]||(e[0]=(0,a.D$)(((...t)=>c.closePopUp&&c.closePopUp(...t)),["stop"])),class:"chat-files-form-close icon-arrow"}),qe,Je]),(0,i.Lk)("div",Oe,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.fileArray,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t.name,class:"chat-files-form-file"},[(0,i.Lk)("div",Be,["photo"==c.infoShowPopUp?((0,i.uX)(),(0,i.CE)("img",{key:0,src:t.imgSrc,alt:t.name,class:"main-chat-text-file-img"},null,8,Ge)):(0,i.Q3)("",!0),(0,i.Lk)("div",Pe,[(0,i.Lk)("div",ze,(0,o.v_)(t.name),1),(0,i.Lk)("div",Ze,(0,o.v_)(t.size),1)])]),(0,i.Lk)("img",{onClick:e=>c.deleteFile(t),class:"chat-files-form-file-delete",src:je,alt:"delete file"},null,8,Ye)])))),128))]),(0,i.Lk)("div",_e,[(0,i.Lk)("div",null,["photo"==c.infoShowPopUp?((0,i.uX)(),(0,i.CE)("input",{key:0,onChange:e[1]||(e[1]=(...t)=>c.onFileChange&&c.onFileChange(...t)),type:"file",accept:"image/*, video/*"},null,32)):(0,i.Q3)("",!0),"file"==c.infoShowPopUp?((0,i.uX)(),(0,i.CE)("input",{key:1,onChange:e[2]||(e[2]=(...t)=>c.onFileChange&&c.onFileChange(...t)),type:"file"},null,32)):(0,i.Q3)("",!0),(0,i.eW)(" Добавить файл ")])]),(0,i.Lk)("div",$e,[(0,i.bF)(l,{placeholder:"Добавить подпись...",modelValue:r.signature,"onUpdate:modelValue":e[3]||(e[3]=t=>r.signature=t),class:"chat-files-form-input"},null,8,["modelValue"]),(0,i.bF)(h,{type:"submit",class:"chat-files-form-btn"},{default:(0,i.k6)((()=>[(0,i.eW)("Отправить")])),_:1})])],32)])}var es={data(){return{signature:"",fileArray:[],imageSrc:""}},mixins:[X],methods:{async onFileChange(t){const e=t.target.files[0];if(e){await this.uploadImage(e);const s={name:e.name,size:e.size};s.imgSrc=this.imageSrc,this.fileArray.push(s),t.target.value=""}},deleteFile(t){this.fileArray=[...this.fileArray.filter((e=>e.url!=t.url))]},closePopUp(){this.$store.commit("showPopUp",""),this.fileArray=[],this.signature=""},createFileMessage(t){const e={title:this.signature,date:(new Date).toTimeString().slice(0,5),files:this.fileArray,type:this.infoShowPopUp,user:t};0!=this.fileArray.length?(this.$store.dispatch("addNewReport",e),this.closePopUp()):alert("Добавьте файл!")}},computed:{infoFullActiveChat(){return this.$store.getters.infoFullActiveChat},infoShowPopUp(){return this.$store.getters.infoShowPopUp}}};const ss=(0,W.A)(es,[["render",ts],["__scopeId","data-v-2779af9d"]]);var is=ss;const os=t=>((0,i.Qi)("data-v-c6384a16"),t=t(),(0,i.jt)(),t),ns={class:"_pop-up-top"},as=os((()=>(0,i.Lk)("div",{class:"_titles"},"Пользвотали",-1))),rs={class:"add-user-group-block"},cs={class:"add-user-group-users"},ls={class:"add-user-group-user-block"},hs=["src"],ds={style:{color:"#000"},class:"_btns-tabs-names_in_msgs"};function us(t,e,n,r,c,l){const h=(0,i.g2)("my-input"),d=(0,i.g2)("my-button");return l.infoShowAddUserInChat?((0,i.uX)(),(0,i.CE)("div",{key:0,onClick:e[3]||(e[3]=(...t)=>l.closePopUp&&l.closePopUp(...t)),class:"add-user-group _pop-up"},[(0,i.Lk)("div",{onClick:e[2]||(e[2]=(0,a.D$)((()=>{}),["stop"])),class:"add-user-group-body _pop-up-body"},[(0,i.Lk)("div",ns,[(0,i.Lk)("span",{onClick:e[0]||(e[0]=(0,a.D$)(((...t)=>l.closePopUp&&l.closePopUp(...t)),["stop"])),class:"chat-files-form-close icon-arrow"}),as]),(0,i.Lk)("div",rs,[(0,i.bF)(h,{class:(0,o.C4)({"input-not-empty":""!=c.searchQuery}),modelValue:c.searchQuery,"onUpdate:modelValue":e[1]||(e[1]=t=>c.searchQuery=t),style:{"padding-left":"15px"},placeholder:"Поиск..."},null,8,["class","modelValue"]),(0,i.Lk)("div",cs,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.sortedSearchNotParticipantsUsers,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"add-user-group-user",key:e.id},[(0,i.Lk)("div",ls,[(0,i.Lk)("img",{src:e.imgSrc?e.imgSrc:s(9096),alt:"Avatar Img"},null,8,hs),(0,i.Lk)("div",ds,(0,o.v_)(e.name),1)]),(0,i.bF)(d,{onClick:s=>t.$store.dispatch("addNewUserInChat",e)},{default:(0,i.k6)((()=>[(0,i.eW)("Добавить")])),_:2},1032,["onClick"])])))),128))])])])])):(0,i.Q3)("",!0)}var ms={data(){return{searchQuery:""}},computed:{infoUsers(){return this.$store.getters.infoUsers},infoFullActiveChat(){return this.$store.getters.infoFullActiveChat},infoShowAddUserInChat(){return this.$store.getters.infoShowAddUserInChat},sortedNotParticipantsUsers(){return this.infoUsers.filter((t=>{let e=!0;return this.infoFullActiveChat.usersChat.forEach((s=>t.id!==s.uid||(e=!1))),e}))},sortedSearchNotParticipantsUsers(){return this.sortedNotParticipantsUsers.filter((t=>t.name.toLowerCase().includes(this.searchQuery.toLowerCase())))}},methods:{closePopUp(){this.$store.commit("setShowAddUserInChat",!1),this.searchQuery=""}}};const ps=(0,W.A)(ms,[["render",us],["__scopeId","data-v-c6384a16"]]);var gs=ps,fs={data(){return{highlight:"",showMenu:!1,report:{},x:0,y:0,chatDropDownItems:[{imgSrc:"icon-send-forward",title:"Ответить",action:"answerBack"},{imgSrc:"icon-copy",title:"Копировать",action:"copy"},{imgSrc:"icon-delete",title:"Удалить",action:"delete"}]}},components:{ChatSing:re,CreateChatReport:Te,CreateFileMessage:is,AddUserInChat:gs},methods:{openContextMenu(t,e){this.showMenu=!0,this.report=e,this.x=t.clientX,this.y=t.clientY},handleClickOutside(t){this.showMenu&&(this.showMenu=!1)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},messageMethods(t){"copy"==t.action&&navigator.clipboard.writeText(this.report.title).then((()=>{alert("Текст скопирован в буфер обмена!")})).catch((t=>{console.error("Не удалось скопировать: ",t)})),"answerBack"==t.action&&(this.$store.commit("SetreplyMessage",this.report),this.$store.dispatch("fetchReplyMessageUser",this.report),this.showMenu=!1),"delete"==t.action&&this.$store.dispatch("deleteMessage",this.report)},goToMessage(t){const e=this.infoActiveChat.find((e=>e.id===t));e&&this.$nextTick((()=>{const e=document.getElementById(t);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),this.highlight=t,setTimeout((()=>{this.highlight=""}),2e3))}))}},mounted(){document.addEventListener("click",this.handleClickOutside)},computed:{infoFullActiveChat(){return this.$store.getters.infoFullActiveChat},infoShowPopUp(){return this.$store.getters.infoShowPopUp},myInfo(){return this.$store.getters.myInfo},fetchMeInChat(){if("canals"==this.infoFullActiveChat.type){const t=this.infoFullActiveChat.usersChat.find((t=>t.uid==this.myInfo.uid));return t?t.uid:null}return!0},infoActiveChat(){return this.$nextTick((()=>{const t=this.$refs.messagesContainer;t.scrollTop=t.scrollHeight})),this.$store.getters.infoActiveChat}}};const Cs=(0,W.A)(fs,[["render",ft],["__scopeId","data-v-5e84c474"]]);var ks=Cs;const vs=t=>((0,i.Qi)("data-v-6508cc26"),t=t(),(0,i.jt)(),t),ys={class:"notifications"},As=vs((()=>(0,i.Lk)("div",{class:"notifications-title _titles"},"Уведомления",-1))),ws=vs((()=>(0,i.Lk)("div",{style:{transform:"rotate(180deg)","font-size":"16px"},class:"notifications-close icon-arrows"},null,-1))),Ss=[As,ws],Ls={class:"notifications-body"},bs={class:"notifications-setting"},Ms=vs((()=>(0,i.Lk)("span",{style:{"font-size":"16px"},class:"icon-check-one"},null,-1)));function Us(t,e,s,o,n,a){const r=(0,i.g2)("my-notice");return(0,i.uX)(),(0,i.CE)("div",ys,[(0,i.Lk)("div",{onClick:e[0]||(e[0]=e=>t.$store.commit("showNotification",!1)),class:"notifications-top"},Ss),(0,i.Lk)("div",Ls,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.infoNotice,(t=>((0,i.uX)(),(0,i.Wv)(r,{notice:t,key:t.name},null,8,["notice"])))),128))]),(0,i.Lk)("div",bs,[(0,i.Lk)("div",{onClick:e[1]||(e[1]=e=>t.$store.dispatch("clearNotice")),class:"notifications-clear"},[Ms,(0,i.eW)(" Отметить прочитанными ")])])])}var Fs={props:{},computed:{infoNotice(){return this.$store.getters.infoNotice}}};const Is=(0,W.A)(Fs,[["render",Us],["__scopeId","data-v-6508cc26"]]);var Rs=Is,Ns={components:{MessengerLeft:ut,MessengerChat:ks,Notifications:Rs},data(){return{saveUsers:[{name:"Anton",date:"20:15",imgSrc:s(9096)},{name:"Oleg",date:"12:15",imgSrc:s(9096)},{name:"Gleb",date:"14:15",imgSrc:s(9096)},{name:"Sten",date:"22:15",imgSrc:s(9096)}],chatReports:[{title:"Привет!",date:"17:01",position:"rigth"},{title:"Нравится твоя идея, но мне кажется, что можно лучше",date:"17:01",position:"rigth"},{title:"Позже покажу, как",date:"17:01",position:"rigth"},{title:"ОК. Давай вместе сделаем что-то крутое",date:"17:01",position:"left"},{title:"Когда будет следующее занятие?",date:"17:01",position:"rigth"}],noticeArray:[{imgSrc:s(9096),name:"@Julia-teacher",text:"добавил(а) Вас в группу «Обучение анимации»",date:"5 мин. назад"},{imgSrc:s(9096),name:"@Julia-teacher",text:"исключил(а) Вас из общего чата «Обсуждение домашек»",date:"10 мин. назад"},{imgSrc:s(9096),name:"@Julia-teacher",text:"упомянул(а) Вас в личном чате",date:"5 мин. назад"}],showNotification:!1}},computed:{infoSaitMode(){return this.$store.getters.infoSaitMode},infoWindow(){return this.$store.getters.infoWindow}}};const Ds=(0,W.A)(Ns,[["render",n]]);var Qs=Ds},4810:function(t){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=986.b733a305.js.map